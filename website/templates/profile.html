{% extends "base.html" %}
{% block content%}

<br>
<form>
    <img class="rounded-circle mr-5" align="left" src="{{ user.profile_pic }}" alt="Counldn't load profile picture.">
    <h2>{{ user.nickname }}</h2>
    <div class="form-group row mt-4">
        <img class="ml-4" src="{{url_for('static', filename='etf2l_logo.png')}}" width="80" height="37"/>
        {% if user.etf2l_id %}
            <a href="https://etf2l.org/forum/user/{{ user.etf2l_id }}" class="btn btn-info ml-4"
                   target="_blank" rel="noopener noreferrer">Etf2l profile</a>
        {% else %}
            <a href="https://etf2l.org/forum/user/{{ user.etf2l_id }}" class="btn btn-info disabled ml-4"
                   target="_blank" rel="noopener noreferrer">Etf2l profile</a>
        {% endif %}
    </div>
    <div class="form-group row">
        <img src="{{url_for('static', filename='logs_logo.png')}}" width="120" height="36"/>
        <a href="https://logs.tf/profile/{{ user.steamid }}" class="btn btn-info ml-2"
               target="_blank" rel="noopener noreferrer">Logs.tf profile</a>
    </div>
</form>
<br>
<h2 align="center" >Change profile info</h2>
<br>
<div class="text-center">
<form method="POST" action="{{ url_for('views.profile') }}" class="justify-content-between">
    {{ form.csrf_token }}
    <fieldset class="form-field justify-content-between">
      <b>{{ form.password.label }}</b>
        <br>
      {{ form.password(size=40) }}
        <br>

        {% if form.password.errors %}
        <ul class="errors">
            {% for error in form.passwrd.errors %}
            <li>{{ error }}</li>
            {% endfor %}
        </ul>
        {% endif %}

    </fieldset>
    <hr>
    <div class="d-flex justify-content-around">
        <fieldset class="form-field">
          {{ form.email.label }}
            <br>
          {{ form.email(size=40, class="mb-3") }}

            {% if form.email.errors %}
            <ul class="errors">
              {% for error in form.email.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
            {% endif %}

        </fieldset>
        <fieldset class="form-field">
          {{ form.nickname.label }}
            <br>
          {{ form.nickname(size=40, class="mb-3") }}

            {% if form.nickname.errors %}
            <ul class="errors">
              {% for error in form.nickname.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
            {% endif %}

        </fieldset>
    </div>
    <div class="d-flex justify-content-around">
        <fieldset class="form-field">
          {{ form.api_key.label }}
            <br>
          {{ form.api_key(size=40, class="mb-3") }}

            {% if form.api_key.errors %}
            <ul class="errors">
              {% for error in form.api_key.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
            {% endif %}

        </fieldset>
        <fieldset class="form-field">
          {{ form.steamid.label }}
            <br>
          {{ form.steamid(size=40, class="mb-3") }}

            {% if form.steamid.errors %}
            <ul class="errors">
              {% for error in form.steamid.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
            {% endif %}

        </fieldset>
    </div>
    <div class="d-flex justify-content-around">
        <fieldset class="form-field">
          {{ form.password1.label }}
            <br>
          {{ form.password1(size=40, class="mb-3") }}

            {% if form.password1.errors %}
            <ul class="errors">
              {% for error in form.password1.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
            {% endif %}

        </fieldset>
        <fieldset class="form-field">
          {{ form.password2.label }}
            <br>
          {{ form.password2(size=40, class="mb-3") }}

            {% if form.password2.errors %}
            <ul class="errors">
              {% for error in form.password2.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
            {% endif %}

        </fieldset>
    </div>
    <hr>
    {{ form.submit(class="btn btn-primary") }}
</form>
</div>

{% endblock %}